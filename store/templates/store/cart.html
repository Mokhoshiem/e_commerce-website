{% extends 'store/base.html' %}
{% load static %}

{% block content %}

<div class="container">
    <div class="roe">
        <div class="col-lg-12">
            <div class="box-element shadow-lg rounded-1">
                <a class="btn btn-outline-warning" href="{% url 'store:store-home' %}">&#x2192; عودة للتسوق</a>
                <hr>
                <table class="table">
                    <th><h5>عدد القطع بالسلة &#x2190;  <strong id="total-cart-items" class="items-cart-num mr-2">{{order.get_cart_items}}</strong></h5></th>
                    <th><h5>إجمالي المشتروات &#x2190;  <strong id="total-cart-purchase" class="items-cart-num mr-2">{{order.get_cart_total|floatformat:2}}</strong></h5></th>
                    <th><a id="complete-purchase-btn-cart" class="btn btn-success" href="{% url 'store:checkout' %}">إتمام الشراء</a></th>
                </table>

            </div>
            
            <br>
            <div class="box-element shadow-lg rounded-1">
                <div class="cart-row mb-3 border-bottom d-flex">
                    <div style="flex:1"></div>
                    <div style="flex:2">المنتج</div>
                    <div style="flex:1">الكمية</div>
                    <div style="flex:1">السعر</div>
                    <div style="flex:1">الإجمالي</div>
                </div>
                {% for item in items %}
                <div class="cart-row item-div mb-1 d-flex">
                    <div style="flex:1">
                        <img class="row-image" src="{{item.product.image.url}}" width="60" height="40"></div>
                        <div style="flex:2">{{item.product.name}}</div>
                        <div class="cart-quantity-div d-flex" style="flex:1">
                            <div class="quantity-icons">
                                <button class="update-cart" data-product="{{item.product.id}}" data-action="add"><img src="{% static 'images/arrow-up.png' %}" width="15"></button>
                                <button class="update-cart" data-product="{{item.product.id}}" data-action="remove"><img src="{% static 'images/arrow-down.png' %}" width="15"></button>
                            
                        </div>
                        <p id="items-quantity" class="product-cart-quantity cart-item m-2">{{item.quantity}}</p>
                    </div>
                    <div class="align-middle " style="flex:1">{{item.product.price|floatformat:2}} جم</div>
                    <div class="align-middle cart-item-total" style="flex:1">{{item.get_total|floatformat:2}} جم</div>
                </div>
                {% endfor %}

            </div>
        </div>
        
    </div>
</div>
<!-- <script src="{% static 'js/cart.js' %}"></script> -->
{% endblock %}
